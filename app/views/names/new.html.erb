<%= javascript_include_tag :defaults %>

<% form_for(@name) do |f| %>
  <%= f.error_messages %>

  <p>
    <%= f.label :firstname %><br />
    <%= f.text_field :firstname %>
  </p>
  <p>
    <%= f.label :lastname %><br />
    <%= f.text_field :lastname %>
  </p>
  <p>
    <%= f.label :address %><br />
    <%= f.text_field :address %>
  </p>
  
<fieldset>
<legend>
Address:
</legend>
  <p>
  <%= f.label :geographical_region %><br />
  <%= collection_select(:name, :geographical_region,  @regions,  :code, :description,
                      {:prompt   => "ffff"},
                      {:onchange => "#{remote_function(:url  => {:action => "update_department"},
                                                       :with => "'geographical_region='+value")}"}) %>
  </p>
 <p>
<%= f.label :department %><br />
 <div id="department">
 <%= render :partial => 'department', :object => @department %>
 </div>
 </p>
  <p>
 <%= f.label :municipality %><br />
 <div id="municipality">
 <%= render :partial => 'municipality', :object => @municipality %>
 </div>
  </p>
  <p>
    <%= f.label :admin_district %><br />
  <div id="admin_district">
 <%= render :partial => 'admin_district', :object => @admin_district %>
 </div>
  </p>
  <p>
    <%= f.label :commune %><br />
     <div id="commune">
 <%= render :partial => 'commune', :object => @commune %>
 </div>
  </p>
  </fieldset>
  <p>
    <%= f.submit 'Create' %>
  </p>
<% end %>



<%= link_to 'Back', names_path %>
